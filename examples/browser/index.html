<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>frameflow dev</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <!-- <video id="input-video" controls src="./examples/assets/flame.avi" ></video><br/> -->
    <video id="output-video" controls></video><br/>
    <input id="uploader" type="file" />
    <button id="run" >GO</button>
    <script>
        async function convert(video) {
            window.fflow = frameflow
            const src = await fflow.source(video, {probeSize: 10*1024*1024})
            console.log(src.metadata)            
        }
        
        let video = null
        const fileDom = document.getElementById('uploader')
        fileDom.onchange = (e) => video = e.target.files[0]
        document.getElementById('run').onclick = () => convert(video)
    </script>
  </body>
</html>